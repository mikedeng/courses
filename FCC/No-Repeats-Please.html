<!DOCTYPE html>
<html>
<head>
	<title>
	</title>
</head>
<body>
	<script type="text/javascript">
		function permute(a, l, r, result){
			var temp, i;
		    if (l === r){
		        result.push(a.join(''));
		    } else {
		        for(i = l; i < r + 1; i++){
		        	console.log(l + ":" + (r + 1))
		        	temp   = a[l];

		        	a[l] = a[i];
		        	a[i] = temp;

		            permute(a, l + 1, r, result);

		            a[i] = a[l];
		            a[l] = temp;
		         }
		    }
		}

		function permAlone(str) {
			var possible_items, outer;
			
			possible_items = [];
			permute(str.split(''), 0, str.length - 1, possible_items);
			for(i = possible_items.length - 1; i >= 0; i--){
				outer = possible_items[i].split('');
				INNER:
				for(j = outer.length - 1; j > 0; j--){
					if(outer[j] === outer[j - 1]){
						possible_items.splice(i, 1);
						break INNER;
					}
				}
			}

			return possible_items.length;
		}

	 var len = permAlone('aabb');
	 console.log(len);
    </script>
</body>
</html>